<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Test Product Fetch</title>
</head>
<body>
  <h1 id="name">Loading product...</h1>
  <img id="image" src="" width="300" />
  <p id="price"></p>
  <pre id="raw"></pre>

  <script>
    const id = "386745653"; // test product
    fetch(`https://badger-orders.onrender.com/get-product-details/${id}`)
      .then(res => res.json())
      .then(data => {
        const product = data.result.sync_product;
        const variant = data.result.sync_variants?.[0];

        document.getElementById("name").innerText = product.name;
        document.getElementById("image").src = product.thumbnail_url;
        document.getElementById("price").innerText = "Retail: Â£" + (variant?.retail_price || "??");

        document.getElementById("raw").innerText = JSON.stringify(data, null, 2);
      })
      .catch(err => {
        document.getElementById("name").innerText = "Failed to load: " + err.message;
      });
  </script>
</body>
</html>
